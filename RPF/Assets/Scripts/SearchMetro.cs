using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using TMPro;

public class SearchMetro : MonoBehaviour
{
    List<string> station_names = new List<string>
    {
        "Авиамоторная",
        "Автозаводская",
        "Академическая",
        "Александровский сад",
        "Алексеевская",
        "Алма-Атинская",
        "Алтуфьево",
        "Аминьевская",
        "Андроновка",
        "Аннино",
        "Арбатская",
        "Аэропорт",
        "Бабушкинская",
        "Багратионовская",
        "Балтийская",
        "Баррикадная",
        "Бауманская",
        "Беговая",
        "Белокаменная",
        "Беломорская",
        "Белорусская",
        "Беляево",
        "Бибирево",
        "Библиотека имени Ленина",
        "Битцевский парк",
        "Борисово",
        "Боровицкая",
        "Боровское шоссе",
        "Ботанический сад",
        "Братиславская",
        "Бульвар Адмирала Ушакова",
        "Бульвар Дмитрия Донского",
        "Бульвар Рокоссовского",
        "Бунинская аллея",
        "Бутырская",
        "Варшавская",
        "ВДНХ",
        "Верхние Котлы",
        "Верхние Лихоборы",
        "Владыкино",
        "Водный стадион",
        "Войковская",
        "Волгоградский проспект",
        "Волжская",
        "Волоколамская",
        "Воробьёвы горы",
        "Воронцовская",
        "Выставочная",
        "Выставочный центр",
        "Выхино",
        "Говорово",
        "Давыдково",
        "Деловой центр",
        "Динамо",
        "Дмитровская",
        "Добрынинская",
        "Домодедовская",
        "Достоевская",
        "Дубровка",
        "Жулебино",
        "ЗИЛ",
        "Зорге",
        "Зюзино",
        "Зябликово",
        "Измайлово",
        "Измайловская",
        "Калужская",
        "Кантемировская",
        "Каховская",
        "Каширская",
        "Киевская",
        "Китай-город",
        "Кленовый Бульвар",
        "Кожуховская",
        "Коломенская",
        "Коммунарка",
        "Комсомольская",
        "Коньково",
        "Коптево",
        "Косино",
        "Котельники",
        "Красногвардейская",
        "Краснопресненская",
        "Красносельская",
        "Красные Ворота",
        "Крестьянская застава",
        "Кропоткинская",
        "Крылатское",
        "Крымская",
        "Кузнецкий Мост",
        "Кузьминки",
        "Кунцевская",
        "Курская",
        "Кутузовская",
        "Ленинский проспект",
        "Лермонтовский проспект",
        "Лесопарковая",
        "Лефортово",
        "Лихоборы",
        "Локомотив",
        "Ломоносовский проспект",
        "Лубянка",
        "Лужники",
        "Лухмановская",
        "Люблино",
        "Марксистская",
        "Марьина Роща",
        "Марьино",
        "Маяковская",
        "Медведково",
        "Международная",
        "Менделеевская",
        "Минская",
        "Митино",
        "Мичуринский проспект",
        "Мнёвники",
        "Молодёжная",
        "Мякинино",
        "Нагатинская",
        "Нагатинский Затон",
        "Нагорная",
        "Народное Ополчение",
        "Нахимовский проспект",
        "Некрасовка",
        "Нижегородская",
        "Новаторская",
        "Новогиреево",
        "Новокосино",
        "Новокузнецкая",
        "Новопеределкино",
        "Новослободская",
        "Новохохловская",
        "Новоясеневская",
        "Новые Черёмушки",
        "Озёрная",
        "Окружная",
        "Окская",
        "Октябрьская",
        "Октябрьское Поле",
        "Ольховая",
        "Орехово",
        "Отрадное",
        "Охотный Ряд",
        "Павелецкая",
        "Панфиловская",
        "Парк культуры",
        "Парк Победы",
        "Партизанская",
        "Первомайская",
        "Перово",
        "Петровский парк",
        "Петровско-Разумовская",
        "Печатники",
        "Пионерская",
        "Планерная",
        "Площадь Гагарина",
        "Площадь Ильича",
        "Площадь Революции",
        "Полежаевская",
        "Полянка",
        "Пражская",
        "Преображенская площадь",
        "Прокшино",
        "Пролетарская",
        "Проспект Вернадского",
        "Проспект Мира",
        "Профсоюзная",
        "Пушкинская",
        "Пятницкое шоссе",
        "Раменки",
        "Рассказовка",
        "Речной вокзал",
        "Рижская",
        "Римская",
        "Ростокино",
        "Румянцево",
        "Рязанский проспект",
        "Савёловская",
        "Саларьево",
        "Свиблово",
        "Севастопольская",
        "Селигерская",
        "Семёновская",
        "Серпуховская",
        "Славянский бульвар",
        "Смоленская",
        "Сокол",
        "Соколиная Гора",
        "Сокольники",
        "Солнцево",
        "Спартак",
        "Спортивная",
        "Сретенский бульвар",
        "Старокачаловская",
        "Стахановская",
        "Стрешнево",
        "Строгино",
        "Студенческая",
        "Сухаревская",
        "Сходненская",
        "Таганская",
        "Тверская",
        "Театральная",
        "Текстильщики",
        "Телецентр",
        "Терехово",
        "Технопарк",
        "Тёплый Стан",
        "Тимирязевская",
        "Третьяковская",
        "Тропарёво",
        "Трубная",
        "Тульская",
        "Тургеневская",
        "Тушинская",
        "Угрешская",
        "Улица 1905 года",
        "Улица Академика Королёва",
        "Улица Академика Янгеля",
        "Улица Горчакова",
        "Улица Дмитриевского",
        "Улица Милашенкова",
        "Улица Сергея Эйзенштейна",
        "Улица Скобелевская",
        "Университет",
        "Филатов Луг",
        "Филёвский парк",
        "Фили",
        "Фонвизинская",
        "Фрунзенская",
        "Ховрино",
        "Хорошёво",
        "Хорошёвская",
        "Царицыно",
        "Цветной бульвар",
        "ЦСКА",
        "Черкизовская",
        "Чертановская",
        "Чеховская",
        "Чистые пруды",
        "Чкаловская",
        "Шаболовская",
        "Шелепиха",
        "Шипиловская",
        "Шоссе Энтузиастов",
        "Щёлковская",
        "Щукинская",
        "Электрозаводская",
        "Юго-Восточная",
        "Юго-Западная",
        "Южная",
        "Ясенево"
    };

    // Список объектов станций метро.
    List<GameObject> stations_objects = new List<GameObject>();

    // Ссылка на поле ввода для поиска станций.
    public TMP_InputField search_bar;

    // Префаб объекта станции метро.
    public GameObject station_prefab;

    // Контейнер, в который будут помещены объекты станций.
    public GameObject container;

    // Текст для отображения имени станции.
    TMP_Text station_text;

    // Вызывается при запуске объекта.
    private void Start()
    {
        // Проходим по списку имен станций и создаем объекты станций на сцене.
        foreach (string station in station_names)
        {
            GameObject inst = Instantiate(station_prefab, container.transform);
            station_text = inst.GetComponentInChildren<TMP_Text>();
            station_text.text = station;
            stations_objects.Add(inst);
        }
    }

    // Метод вызывается при изменении текста в поле поиска.
    public void OnChanges()
    {
        // Получаем текст из поля поиска.
        string request = search_bar.text;

        // Проходим по списку объектов станций и скрываем или показываем их в зависимости от запроса.
        foreach (GameObject station in stations_objects)
        {
            station_text = station.GetComponentInChildren<TMP_Text>();
            if (station_text.text.ToLower().Contains(request.ToLower()) || station_text.text.ToUpper().Contains(request.ToUpper()) || request == "")
            {
                station.SetActive(true);
            }
            else
            {
                station.SetActive(false);
            }
        }
    }

}
